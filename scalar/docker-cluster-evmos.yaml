version: "3.9"
networks:
  scalar_evmos:
    ipam:
      config:
        - subnet: 172.22.0.0/24
services:
  scalar-evmos1:
    extends:
      file: ./docker-compose-evmos.yaml
      service: scalar-evmos
    container_name: scalar-evmos1
    ports:
      - "26618:26658"
      - "8145:8545"
    environment:
      - KEYNAME=scalarabci1
      - MONIKER=scalarabci1
    volumes:
      - ./runtime/evmos1:/opt/evmos
    command: ["/scripts/start-docker.sh"]
    networks:
      scalar_evmos:
        ipv4_address: "172.22.0.11"

  scalar-evmos2:
    extends:
      file: ./docker-compose-evmos.yaml
      service: scalar-evmos
    container_name: scalar-evmos2
    ports:
      - "26628:26658"
      - "8245:8545"
    environment:
      - KEYNAME=scalarabci2
      - MONIKER=scalarabci2
    volumes:
      - ./runtime/evmos2:/opt/evmos
    command: ["/scripts/start-docker.sh"]
    networks:
      scalar_evmos:
        ipv4_address: "172.22.0.12"

  scalar-evmos3:
    extends:
      file: ./docker-compose-evmos.yaml
      service: scalar-evmos
    container_name: scalar-evmos3
    ports:
      - "26638:26658"
      - "8345:8545"
    environment:
      - KEYNAME=scalarabci3
      - MONIKER=scalarabci3
    volumes:
      - ./runtime/evmos3:/opt/evmos
    command: ["/scripts/start-docker.sh"]
    networks:
      scalar_evmos:
        ipv4_address: "172.22.0.13"

  scalar-evmos4:
    extends:
      file: ./docker-compose-evmos.yaml
      service: scalar-evmos
    container_name: scalar-evmos4
    ports:
      - "26648:26658"
      - "8445:8545"
    environment:
      - KEYNAME=scalarabci4
      - MONIKER=scalarabci4
    volumes:
      - ./runtime/evmos4:/opt/evmos
    command: ["/scripts/start-docker.sh"]
    networks:
      scalar_evmos:
        ipv4_address: "172.22.0.14"
